<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>BB5e (Player Edition)</title>

    <link rel="stylesheet" href="packages/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="packages/bootstrap/css/bootstrap-theme.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="packages/bootstrap/js/bootstrap.js"></script>

    <script src="https://cdn.firebase.com/js/client/2.2.9/firebase.js"></script>

    <style>
      /*Accordion CSS stuff*/
      .accordion-p, .accordion-table{
        color: #666;
        margin-top: 1%;
      }

      #accordion-container{
        width: 500px;
        height: auto;
        margin-top: 3%;
        border-top: 1px solid #bdbdbd;
        border-left: 1px solid #bdbdbd;
        border-right: 1px solid #bdbdbd;
      }

      .accordion label{
        display:block;
        background-color: #eeeeee;
        padding-left: 25px;
        color: #424242;
        text-shadow: 0 0 2px rgba(255,255,255,0.6);
        cursor: pointer;
        border-bottom: 1px solid #bdbdbd;
        border-top: 1px solid #ffffff;
      }

      .accordion .accordion-table, .accordion-p {
        color: #424242;
        padding: 10px;
        line-height: 1.7em;
        border-bottom: 1px solid #bdbdbd;
        visibility: hidden;
        opacity: 0;
        display: none;
        text-align: left;
        background-color: #fff;
        margin-top: 0;
      }

      #tm:checked ~ .hiddentext{
        display: block;
        visibility: visible;
        opacity: 1;
      }

      input#tm{
        display: none;
        position: relative;
      }

      #tn:checked ~ .hiddentext{
        display: block;
        visibility: visible;
        opacity: 1;
      }

      input#tn{
        display: none;
        position: relative;
      }

      #to:checked ~ .hiddentext{
        display: block;
        visibility: visible;
        opacity: 1;
      }

      input#to{
        display: none;
        position: relative;
      }
      .arrow{
        color: #666666;
      }

      .table-left-row {
        width: 45px;
      }
      /*End of accordion CSS STUFF*/

      body {
        padding-left: 2%;
      }
      
      .body-container {
        width: 600px;
      }

      .display-inline {
        display: inline-block;
        width: 49%;
      }

      .text-field-container {
        width: 250px;
      }

      #total-card {
        border: 1px solid gainsboro;
        border-radius: 5px;
        padding-left: 20px;
        padding-right: 20px;
        margin-left: 3%;
      }
      
      #submit-to-dm {
        margin-bottom: 10px;
      }

      #card-header {
        border-bottom: 1px solid gainsboro;
        padding-bottom: 5px;
        margin-top: 10px;
      }

      .text-align-right {
        text-align: right;
        padding-right: 2%;
        padding-left: 5%;
      }

      .left-column {
        width: 50%;
      }
    </style>
  </head>

  <body>
  <div class="body-container">


    <h1>Initiative</h1>

    <!-- Start char input (name, d20, dex mod) and Initiative Total -->
    <div>
      <div class="text-field-container display-inline">
        <div class="form-group">
          <label for="char-name" class="input-sm">Character Name</label>
          <input id="char-name" type="text" class="form-control input-lg" placeholder="Character Name">
        </div>

        <!-- Start d20 and dex mod input section -->
        <div>
          <div class="form-group display-inline">
            <label for="d20" class="input-sm">d20</label>
            <input id="d20" type="text" class="form-control input-lg" placeholder="d20">
          </div>

          <div class="form-group display-inline">
            <label for="dex-mod" class="input-sm">Dex Modifier</label>
            <input id="dex-mod" type="text" class="form-control input-lg" placeholder="Dex Mod">
          </div>
        </div>
        <!-- End d20 and dex mod input section -->
      </div>

      <!-- Start "card" -->
      <div id="total-card" class="display-inline">
        <h2 id="card-header">Total</h2>

        <h1><span id="init-total"></span></h1>

        <button id="submit-to-dm" class="btn btn-primary" type="button">Submit</button>

      </div>
      <!-- End "card" -->
    </div>
    <!-- End char input (name, d20, dex mod) and Initiative Total-->

    <!-- Start Speed Factor Initiative Modifiers -->
    <h2>Speed Factor Initiative Modifiers</h2>

    <table class="table table-hover">
      <thead>
        <tr>
          <th class="left-column">Factor</th>
          <th class="text-align-right">Modifier</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <label for="spell-cb">
              <input type="checkbox" id="spell-cb"/>
              <span>Spell</span>
            </label>
          </td>
          <td class="text-align-right">
            <div class="dropdown">
              Spell Level
              <select id="spell-level-sel" class="btn btn-default dropdown-toggle">
                  <option value="0">Cantrip</option>
                  <option value="-1">1st</option>
                  <option value="-2">2nd</option>
                  <option value="-3">3rd</option>
                  <option value="-4">4th</option>
                  <option value="-5">5th</option>
                  <option value="-6">6th</option>
                  <option value="-7">7th</option>
                  <option value="-8">8th</option>
                  <option value="-9">9th</option>
              </select>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <label for="melee-hw-cb">
              <input type="checkbox" id="melee-hw-cb"/>
              <span>Melee, heavy weapon</span>
            </label>
          </td>
          <td class="text-align-right">-2</td>
        </tr>
        <tr>
          <td>
            <label for="melee-lw-cb">
              <input type="checkbox" id="melee-lw-cb"/>
              <span>Melee, light or finesse weapon</span>
            </label>
          </td>
          <td class="text-align-right">+2</td>
        </tr>
        <tr>
          <td>
            <label for="melee-twohand-cb">
              <input type="checkbox" id="melee-twohand-cb" />
              <span>Melee, two-handed weapon</span>
            </label>
          </td>
          <td class="text-align-right">-2</td>
        </tr>
        <tr>
          <td>
            <label for="ranged-loading-cb">
              <input type="checkbox" id="ranged-loading-cb" />
              <span>Ranged, loading weapon</span>
            </label>
          </td>
          <td class="text-align-right">-5</td>
        </tr>
        <tr>
          <td>
            <label for="creature-size-cb">
              <input type="checkbox" id="creature-size-cb" />
              <span>Creature Size</span>
            </label>
          </td>
          <td class="text-align-right">
            <div class="dropdown">
              If other than Medium
              <!-- Value for creature-size-sel is the index of the mod-->
              <select id="creature-size-sel" class="btn btn-default dropdown-toggle">
                <option value="7">Tiny</option>
                <option value="8">Small</option>
                <option value="9">Large</option>
                <option value="10">Huge</option>
                <option value="11">Gargantuan</option>
              </select>
            </div>
          </td>
        </tr>
        <tr>
          <td>
            <label for="custom-cb">
              <input type="checkbox" id="custom-cb" />
              <span>Custom</span>
            </label>
          </td>
          <td class="text-align-right input-group container-fluid">
            <input type="text" class="form-control">
            <div class="input-group-btn">
              <select id="custom-sel" class="btn btn-default dropdown-toggle">
                <option value="-5">-5</option>
                <option value="-2">-2</option>
                <option value="2">+2</option>
                <option value="5">+5</option>
              </select>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <!-- End Speed Factor Initiative Modifiers -->

    <!-- Start description -->
    <h2>Description</h2>

    <div class="form-group">
      <label for="description-txt">What are ya gonna do on your turn?</label>
      <input type="text" class="form-control" id="description-txt" placeholder="Cast a cantrip? Use your bow? Stab someone with your sword (sexually)?">
    </div>
    <!-- End description-->

    <!--Start of Player Reference-->
    <h2>Player Reference</h2>
    <!-- Start of the accordion -->
    <div id="accordion-container">
      <!-- Item 1 -->
      <div class="accordion">
        <label for="tm" class="accordionitem">
          <h2>System Shock  <span class="arrow">&raquo;</span></h2>
        </label>
        <input type="checkbox" id="tm"/>
        <p class="accordion-p hiddentext">When a creature takes damage from a single source equal to or greater than half its hit point maximum, it must succeed on a DC 15 Constitution saving throw or suffer a random effect determined by a roll on the System Shock Table. For example, a creature that has a hit point maximum of 30 must make that Constitution save if it takes 15 damage or more from a single source.</p>
        <table class="hiddentext accordion-table">
          <tr>
            <th class="table-left-row">d10</th>
            <th>Effect</th>
          </tr>
          <tr>
            <td class="table-left-row">1</td>
            <td>The creature drops to 0 hit points.</td>
          </tr>
          <tr>
            <td class="table-left-row">2-3</td>
            <td>The creature drops to 0 hit points but is stable.</td>
          </tr>
          <tr>
            <td class="table-left-row">4-5</td>
            <td> The creature is stunned until the end of its next turn.</td>
          </tr>
          <tr>
            <td class="table-left-row">6-7</td>
            <td>The creature can't take reactions and has disadvantage on attack rolls and ability checks until the end of its next turn.</td>
          </tr>
          <tr>
            <td class="table-left-row">8-10</td>
            <td>The creature can't take reactions until the end of its next turn.</td>
          </tr>
        </table>
      </div>

      <!-- Item 2 -->
      <!--<div class="accordion">-->
        <!--<label for="tn" class="accordionitem">-->
          <!--<h2>Item 2 <span class="arrow">&raquo;</span></h2>-->
        <!--</label>-->
        <!--<input type="checkbox" id="tn"/>-->
        <!--<p class="accordion-p hiddentext">One morning, when Gregor Samsa woke from troubled dreams, he found himself transformed in his bed into a horrible vermin. He lay on his armour-like back, and if he lifted his head a little he could see his brown belly, slightly domed and divided by arches into stiff sections.</p>-->
      <!--</div>-->

      <!-- Item 3 -->
      <!--<div class="accordion">-->
        <!--<label for="to" class="accordionitem">-->
          <!--<h2>Item 3 <span class="arrow">&raquo;</span></h2>-->
        <!--</label>-->
        <!--<input type="checkbox" id="to"/>-->
        <!--<p class="accordion-p hiddentext">One morning, when Gregor Samsa woke from troubled dreams, he found himself transformed in his bed into a horrible vermin. He lay on his armour-like back, and if he lifted his head a little he could see his brown belly, slightly domed and divided by arches into stiff sections.</p>-->
      <!--</div>-->
    </div>
    <!-- End of Player References-->

  </div>


    <script async type="application/dart" src="main.dart"></script>
    <script async src="packages/browser/dart.js"></script>
  </body>
</html>